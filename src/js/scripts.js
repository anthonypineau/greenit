var language=["en","fr","es","por","de"],device=[{key:"Device1",name:"Dell Optiplex 3020",total:"624.00",
use:"50",production:"411.84",lasting:3,class:"C-",link:"http://i.dell.com/sites/doccontent/corporate/corp-comm/en/Documents/WP-OptiPlex-3010-MT.pdf"},
{key:"Device2",name:"Dell Optiplex 3010",total:"624.00",use:"50",production:"411.84",lasting:3,class:"C-",
link:"http://i.dell.com/sites/doccontent/corporate/corp-comm/en/Documents/WP-OptiPlex-3010-MT.pdf"},
{key:"Device3",name:"Dell Latitude E7240",total:"310.00",use:"50",production:"275.9",lasting:3,class:"",
link:"http://i.dell.com/sites/doccontent/corporate/corp-comm/en/Documents/PCF-WP-E7240.pdf"},
{key:"Device4",name:"Dell Latitude E7440",total:"276.00",use:"50",production:"242.88",lasting:3,class:"",
link:"http://i.dell.com/sites/doccontent/corporate/corp-comm/en/Documents/PCF-WP-E7440.pdf"},
{key:"Device5",name:"Dell Latitude E5440",total:"292.00",use:"50",production:"259.88",lasting:3,class:"C-",
link:"https://i.dell.com/sites/doccontent/corporate/corp-comm/en/Documents/PCF-WP-E5540.pdf"},
{key:"Device6",name:"Dell Latitude E7450",total:"292.00",use:"50",production:"259.88",lasting:3,class:"C-",
link:"https://i.dell.com/sites/doccontent/corporate/corp-comm/en/Documents/PCF-WP-E5540.pdf"},
{key:"Device7",name:"Dell Latitude E7470",total:"292.00",use:"50",production:"259.88",lasting:3,class:"C-",
link:"https://i.dell.com/sites/doccontent/corporate/corp-comm/en/Documents/PCF-WP-E5540.pdf"},
{key:"Device8",name:"Dell Latitude E5540",total:"311",use:"50",production:"267.46",lasting:3,class:"C-",
link:"https://i.dell.com/sites/doccontent/corporate/corp-comm/en/Documents/PCF-WP-E5440.pdf"},
{key:"Device9",name:"Dell Latitude E3340",total:"314.00",use:"50",production:"248.06",lasting:3,class:"B-",
link:"https://i.dell.com/sites/doccontent/corporate/corp-comm/en/Documents/PCF-WP-E3440.pdf"},
{key:"Device10",name:"Mac book air",total:"339.00",use:"50",production:"294.93",lasting:3,class:"C-",
link:"https://www.apple.com/environment/pdf/products/notebooks/13-inch_MacBookAir_PER_June2017.pdf"},
{key:"Device11",name:"Macbook Pro",total:"366.00",use:"50",production:"285.48",lasting:3,class:"D+",
link:"https://www.apple.com/euro/environment/pdf/f/generic/products/notebooks/15-inch_MacBookPro_w_Thunderbolt3_PER_July2018.pdf"},
{key:"Device12",name:"Lenovo X270",total:"851.00",use:"50",production:"765.9",lasting:3,class:"B+",
link:"https://www.lenovo.com/medias/PCF-ThinkPad-X270.pdf?context=bWFzdGVyfEVDTy1QQ0YtTk9URUJPT0t8MTUxNzY3fGFwcGxpY2F0aW9uL3BkZnxFQ08tUENGLU5PVEVCT09LL2g4Yi9oMDAvOTQ1MjU3MjgwMzEwMi5wZGZ8MDcxZjUxYjAwNGIxYzllNDQ5NGYyODM1YzExMTM0YjExODI1YzBjNDM3YmY4MGNkOWZiOTJkNjNiNDQzMDIwYw"},
{key:"Device13",name:"Lenovo T470",total:"493.00",use:"50",production:"345.1",lasting:3,class:"D-",
link:"https://www.lenovo.com/medias/PCF-ThinkPad-T470.pdf?context=bWFzdGVyfEVDTy1QQ0YtTk9URUJPT0t8MTg0NDI1fGFwcGxpY2F0aW9uL3BkZnxFQ08tUENGLU5PVEVCT09LL2gxOC9oMWEvOTQ1MjU3MDE4MTY2Mi5wZGZ8MWM5OWEwNTc5ZTQ0YjFhN2Y1NDliNDMzY2YzYzZiYzMwM2NlNjc2ZDg2NTVkOGVjNzVlNjdjMTRiYTgxODc5Nw"},
{key:"Device14",name:"Lenovo T440",total:"394.00",use:"50",production:"330.96",lasting:3,class:"B+",
link:"https://www.lenovo.com/medias/PCF-Lenovo-ThinkPad-T440s.pdf?context=bWFzdGVyfHNvY2lhbF9yZXNwb25zaWJpbGl0eXwyNDI3MzZ8YXBwbGljYXRpb24vcGRmfHNvY2lhbF9yZXNwb25zaWJpbGl0eS9oYmEvaDA0LzkzNTIxNDM1MzYxNTgucGRmfDk0MmY0N2M5Y2ZiY2U5MDBmOTZkNWZlN2U3OTRjZWQ2MjgzNjc5YmYzNzcwYzViMWQzYTcxNjQwODVmN2EwM2E"},
{key:"Device15",name:"Lenovo T450",total:"562.00",use:"50",production:"483.32",lasting:3,class:"B+",
link:"https://www.lenovo.com/medias/PCF-ThinkPad-T450.pdf?context=bWFzdGVyfHNvY2lhbF9yZXNwb25zaWJpbGl0eXwyMDIzMzN8YXBwbGljYXRpb24vcGRmfHNvY2lhbF9yZXNwb25zaWJpbGl0eS9oMTEvaDcyLzkzNTIxNDM2MzQ0NjIucGRmfDM5MmI4Y2YzNmNhNDIxYWM2NTU0NDA5NDUyYWM2M2QyZGJkMWQ5NGE2ZWYzM2ZjOTQ0OWM3Mjk3MzYxMDNmZjg"},
{key:"Device16",name:"Lenovo M73",total:"899.00",use:"50",production:"530.41",lasting:3,class:"C-",
link:"https://www.lenovo.com/medias/PCF-ThinkCentre-M73s-M4500s.pdf?context=bWFzdGVyfHNtYnwxOTk2NTh8YXBwbGljYXRpb24vcGRmfGhmYy9oMGUvOTQwNzE5NTk3MTYxNC5wZGZ8ZDg3ODNjMDBlOWMyY2U5NTBmNTgxNTdiYzE1OWNjY2NlNjI3ZDA5NzM2ZGUxYWMwMWM1NTI3ZTg2YjQ4ZGEzMQ"},
{key:"Device17",name:"Lenovo T430",total:"345.00",use:"50",production:"258.75",lasting:3,class:"",
link:"https://www.lenovo.com/us/en/social_responsibility/PCF_Typical_Notebook"},
{key:"Device18",name:"Lenovo X250",total:"338.00",use:"50",production:"256.88",lasting:3,class:"",
link:"https://www.lenovo.com/medias/PCF-ThinkPad-X250.pdf?context=bWFzdGVyfHNvY2lhbF9yZXNwb25zaWJpbGl0eXwyMDkxODB8YXBwbGljYXRpb24vcGRmfHNvY2lhbF9yZXNwb25zaWJpbGl0eS9oNjQvaDA4LzkzNTIxNTAxODgwNjIucGRmfGFlMDY2ZDExNDYxYTYyMmYzNTg2NjAzNTg5NmJlMWEyZGRlNjBhMGU4NDZjMTdkNjRiMThkMDE3Mjk4OThjNDU"},
{key:"Device19",name:"Autre",total:"440",use:"50",production:"343.85",lasting:3,class:"",link:""}],
phone=[{name:"Autre telephone",total:"45.92","use:":"0.18",production:"56",lasting:"3",class:""}],
ecran=[{name:"Ecran",total:"617","use:":"0.53",production:"290",lasting:"4",class:""}],
impactEmails=[{key:"E1",name:"1 -> 10 ",total:.15},{key:"E2",name:"11 -> 20",total:.3},{key:"E3",name:"21 -> 40",total:.6},{key:"E4",name:"+ 40",total:1.05}],
nb_jours_travailles=215,CO2GigaByteCloud=.12,CO2kmvoiture=.253,CO2kmtrain=.093,CO2kmavion=.138,CO2kwh=.5,CO2MoyEuropean=9e3,CO2MoyFrench=12e3;
var CO2streaming=0.0015;
$(document).ready(
function l(){e=Number($("#laptop_impact_annuel").html())+Number($("#screen_total_annuel").html())+Number($("#phone_total_annuel").html())+Number($("#storage_google_annuel").html())+Number($("#impact_stream_annuel").html())+Number($("#impact_email_annuel").html()),t=Number($("#impact_voiture_annuel").html())+Number($("#impact_commun_annuel").html())+Number($("#impact_plane_annuel").html()),a=e+t,$("#total_impact_numerique").html(e.toFixed(2)),$("#total_impact_deplacement").html(t.toFixed(2)),$("#total_impact").html(a.toFixed(2)),nb_arbres=a.toFixed(2)/1e3/.01/50,nb_polaire=a.toFixed(2)/1e3*4714377/7023.28,nb_bulb=1e3*a.toFixed(2)/19/24/365,o=a.toFixed(2)/CO2MoyFrench*100,$("#nb_arbres").html(nb_arbres.toFixed(2)),$("#nb_polaire").html(nb_polaire.toFixed(2)),$("#nb_bulb").html(nb_bulb.toFixed(2)),$("#percent_conso").html(o.toFixed(2))}
function i(){var e=$.grep(device,function(e,t){return e.key===$("#sel_laptop").val()}),t=$("#sel_lastingLaptop").val(),a=Number(e[0].use*t*CO2kwh),o=Number(e[0].production);$("#laptop_total").html((a+o).toFixed(2)),$("#laptop_production").html(o),$("#laptop_use").html(a.toFixed(2)),$("#laptop_impact_annuel").html(((a+o)/t).toFixed(2)),""!=e[0].link&&($("#device_link").attr("href",e[0].link),$("#device_link").css("display","inline")),l()}
function r(){100<Number($("#pourcent_velo").val())+Number($("#pourcent_commun").val())+Number($("#pourcent_voiture").val())?$(".percent").css("background-color","red"):Number($("#pourcent_velo").val())+Number($("#pourcent_commun").val())+Number($("#pourcent_voiture").val())<100?$(".percent").css("background-color","#ffa800"):$(".percent").css("background-color","#ffffff")}
function c(e){-1==jQuery.inArray(e,language)&&(e="fr"),$(".lng").css("font-weight",""),$("[data-trad]").each(function(){""!=translation[$(this).attr("data-trad")][e]?$(this).html(translation[$(this).attr("data-trad")][e]):$(this).html(translation[$(this).attr("data-trad")].en)}),$("html").attr("lang",e)}
n($("#sel_laptop"),device),n($("#sel_emails"),impactEmails),$("#sel_laptop").change(function(){i()}),$("#sel_lastingLaptop").change(function(){i()}),$("#screen").change(function(){if("0"!=$("#screen").val()){var e=Number($("#screen").val()),t=ecran[0].total*e;$("#screen_total").html(t),$("#screen_total_annuel").html((t/ecran[0].lasting).toFixed(2))}
else $("#screen_total").html(""),$("#screen_total_annuel").html("");l()}),$("#phone_total").html(phone[0].total),$("#phone_total_annuel").html((phone[0].total/phone[0].lasting).toFixed(2))
$("input[name='phone']").change(function(){if($(this).is(":checked")){if($(this).val()=="yes"){$("#phone_total").html(phone[0].total),$("#phone_total_annuel").html((phone[0].total/phone[0].lasting).toFixed(2))}
else{$("#phone_total").html(""),$("#phone_total_annuel").html("")}}
l()}),$("#sel_stream").change(function(){if($("#sel_stream").val()!=""){$("#impact_stream_quotidien").html(Number($("#sel_stream").val()*CO2streaming).toFixed(0));$("#impact_stream_annuel").html(Number($("#sel_stream").val()*CO2streaming*nb_jours_travailles).toFixed(0));}
else{$("#impact_stream_quotidien").html("0");$("#impact_stream_annuel").html("0");}
l();});$("#storage_google").change(function(){""!=$("#storage_google").val()?$("#storage_google_annuel").html($("#storage_google").val()*CO2GigaByteCloud):$("#storage_google_annuel").html("0"),l()}),$("#sel_emails").change(function(){var e=$.grep(impactEmails,function(e,t){return e.key===$("#sel_emails").val()});""!=$(sel_emails).val()?($("#impact_email_quotidien").html(e[0].total),$("#impact_email_annuel").html(e[0].total*nb_jours_travailles)):($("#impact_email_quotidien").html("0"),$("#impact_email_annuel").html("0")),l()}),$("#deplacement_plane").change(function(){if(""!=$("#deplacement_plane").val()){var e=Number($("#deplacement_plane").val()*CO2kmavion).toFixed(2);$("#impact_plane_annuel").html(Number(e).toFixed(2))}
else $("#impact_plane_annuel").html("0");l()}),$("#deplacement").change(function(){if(""!=$("#deplacement").val()&&""!=$("#pourcent_voiture").val()){var e=Number($("#deplacement").val()*CO2kmvoiture).toFixed(2),t=$("#pourcent_voiture").val()/100;$("#impact_voiture_quotidien").html(e),$("#impact_voiture_annuel").html(Number(e*nb_jours_travailles*t).toFixed(2))}
else $("#impact_voiture_quotidien").html("0"),$("#impact_voiture_annuel").html("0");if(""!=$("#deplacement").val()&&""!=$("#pourcent_commun").val()){var e=Number($("#deplacement").val()*CO2kmtrain).toFixed(2),t=$("#pourcent_commun").val()/100;$("#impact_commun_quotidien").html(e),$("#impact_commun_annuel").html(Number(e*nb_jours_travailles*t).toFixed(2))}
else $("#impact_commun_quotidien").html("0"),$("#impact_commun_annuel").html("0");l();}),$("#pourcent_voiture").change(function(){100<$("#pourcent_voiture").val()&&$("#pourcent_voiture").val(100),$("#deplacement").change(),r()}),$("#pourcent_voiture").click(function(){$("#pourcent_voiture").change()}),$("#pourcent_commun").change(function(){100<$("#pourcent_commun").val()&&$("#pourcent_commun").val(100),$("#deplacement").change(),r()}),$("#pourcent_commun").click(function(){$("#pourcent_commun").change()}),$("#pourcent_velo").change(function(){100<Number($("#pourcent_velo").val())&&$("#pourcent_velo").val(100),$("#impact_velo_quotidien").html("0"),$("#impact_velo_annnuel").html("0"),r()}),$(".lng").click(function(){c($(this).attr("id")),$(this).css("font-weight","bold")}),$("#sel_laptop").change(),$("#screen").change(),$("#phone").change(),$("#sel_emails").change(),$("#storage_google").change(),$("#deplacement").change(),$("#pourcent_velo").change(),$("#deplacement_plane").change();var m=document.location.href;c(m.substring(m.indexOf("#")+1).toLowerCase()),$("#score_env").html(localStorage.note),$("#note_env").html(localStorage.eco_index)});